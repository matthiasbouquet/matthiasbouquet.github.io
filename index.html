<!DOCTYPE html>
<html lang="en">
<head>
    <!-- This content is loaded from components/_head.html -->
</head>
<body class="font-sans antialiased text-gray-800 bg-gray-50">
    <div id="navigation-placeholder"></div>
    <div id="hero-placeholder"></div>
    <div id="bio-placeholder"></div>
    <div id="trust-badges-placeholder"></div>
    <div id="guide-placeholder"></div>
    <div id="program-placeholder"></div>
    <div id="features-placeholder"></div>
    <div id="testimonials-placeholder"></div>
    <div id="newsletter-placeholder"></div>
    <div id="faq-placeholder"></div>
    <div id="contact-placeholder"></div>
    <div id="footer-placeholder"></div>
    <div id="scripts-placeholder"></div>

    <script>
        document.addEventListener("DOMContentLoaded", function() {
            const loadComponent = (url, placeholderId) => {
                return fetch(url)
                    .then(response => response.text())
                    .then(data => {
                        if (placeholderId === 'head') {
                            document.head.innerHTML += data;
                        } else {
                            const placeholder = document.getElementById(placeholderId);
                            if(placeholder) {
                                // Create a temporary container
                                const temp = document.createElement('div');
                                temp.innerHTML = data;
                                // Append children of temp container to placeholder
                                while (temp.firstChild) {
                                    placeholder.appendChild(temp.firstChild);
                                }
                            }
                        }
                    })
                    .catch(error => console.error(`Error loading component from ${url}:`, error));
            };

            // Load all components
            // The head is special, it needs to load first and into the head tag
            loadComponent('components/_head.html', 'head')
                .then(() => {
                    // Load body components
                    const components = [
                        { url: 'components/_navigation.html', id: 'navigation-placeholder' },
                        { url: 'components/_hero.html', id: 'hero-placeholder' },
                        { url: 'components/_bio.html', id: 'bio-placeholder' },
                        { url: 'components/_trust_badges.html', id: 'trust-badges-placeholder' },
                        { url: 'components/_free_guide.html', id: 'guide-placeholder' },
                        { url: 'components/_program.html', id: 'program-placeholder' },
                        { url: 'components/_features.html', id: 'features-placeholder' },
                        { url: 'components/_testimonials.html', id: 'testimonials-placeholder' },
                        { url: 'components/_newsletter.html', id: 'newsletter-placeholder' },
                        { url: 'components/_faq.html', id: 'faq-placeholder' },
                        { url: 'components/_contact.html', id: 'contact-placeholder' },
                        { url: 'components/_footer.html', id: 'footer-placeholder' },
                        { url: 'components/_scripts.html', id: 'scripts-placeholder' }
                    ];

                    // Chain promises to load in order
                    let promiseChain = Promise.resolve();
                    components.forEach(component => {
                        promiseChain = promiseChain.then(() => loadComponent(component.url, component.id));
                    });
                });
        });
    </script>
</body>
</html>